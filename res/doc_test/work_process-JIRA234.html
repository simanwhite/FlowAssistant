<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
    <head>
        <meta http-equiv="content-type" content="text/html; charset=UTF-8">
        <title>work_process-JIRA234</title>
        <link type="text/css" rel="stylesheet" href="appbase.css">
    </head>
    <body class="wikidpad">
<span class="wikidpad parent-nodes">parent nodes: <span class="wikidpad parent-node"><a href="QuestionStack.html" class="wikidpad">QuestionStack</a></span> | <span class="wikidpad parent-node"><a href="work%20projects.html" class="wikidpad">work projects</a></span> | <span class="wikidpad parent-node"><a href="work_process-JIRA238.html" class="wikidpad">work_process-JIRA238</a></span> | <span class="wikidpad parent-node"><a href="work_process-JIRA260.html" class="wikidpad">work_process-JIRA260</a></span><br class="wikidpad" /><br class="wikidpad" /></span>
<a name=".h0" class="wikidpad"></a><h2 class="wikidpad heading-level2">work_process-JIRA234</h2>
<hr class="wikidpad" />
标题: [Polaris22] pgvi+baco UPF<br class="wikidpad" />
JIRA地址: <span class="wikidpad url-link"><a href="http://ontrack-internal.amd.com/browse/DMVMTVRF-234" class="wikidpad">http://ontrack-internal.amd.com/browse/DMVMTVRF-234</a></span><br class="wikidpad" />
<br class="wikidpad" />
<br class="wikidpad" />
<br class="wikidpad" />
<a name=".h199" class="wikidpad"></a><h3 class="wikidpad heading-level3">状态及下一步(newest on top)</h3>
<hr class="wikidpad" />
<ol class="wikidpad orderedlist">
<li class="wikidpad" />I’ve submitted the change to changelist 2413051.
<li class="wikidpad" />修改了chip.upf.tmpl内容, 增加了CHIP_UPF_MODE变量对pgvi+baco的支持. Angela code<br class="wikidpad" />
review通过, 等待Peter验证. 验证OK后可以submit<br class="wikidpad" />
<br class="wikidpad" />
</ol>
<a name=".h466" class="wikidpad"></a><h3 class="wikidpad heading-level3">环境及问题描述</h3>
<hr class="wikidpad" />
<b class="wikidpad">环境</b>:<br class="wikidpad" />
dj命令, dj -J lsf -m 0 -c -v -e 'run_test "quick drop2cad__0"' -l dj_drop2cad.log <br class="wikidpad" />
-DUPF -DRUN_DV=OFF<br class="wikidpad" />
联系人Peter Peng<br class="wikidpad" />
atlnonveu-0172:1 <br class="wikidpad" />
ps 123456<br class="wikidpad" />
<br class="wikidpad" />
Wen Qing<br class="wikidpad" />
atlgenip04:1<br class="wikidpad" />
101010<br class="wikidpad" />
pls dont close the genip server thing<br class="wikidpad" />
<br class="wikidpad" />
<b class="wikidpad">问题描述</b>:<br class="wikidpad" />
<br class="wikidpad" />
<br class="wikidpad" />
<b class="wikidpad">运行环境</b>:<br class="wikidpad" />
<br class="wikidpad" />
<br class="wikidpad" />
<a name=".h796" class="wikidpad"></a><h3 class="wikidpad heading-level3">日志(oldest on top)</h3>
<hr class="wikidpad" />
$log$:<br class="wikidpad" />
JIRA234 pgvi+baco. 还会报CHIP.upf.2.0生成失败. 但是明明已经生成了呀.<br class="wikidpad" />
原因是这样: 一般的tree里面, 只要修改了_env/local/modulefile中的内容, 将powerflow_<br class="wikidpad" />
pkg指向所需要的版本, 或者去主动module load当地版本powerflow_pkg下面的modulefile, <br class="wikidpad" />
这样做将把$ANCHOR_powerflow指向你想要使用的powerflow_pkg的地址. 当dj build时, 会<br class="wikidpad" />
自动去$ANCHOR正面寻找正确的文件, 放到out/linux.../common/pub/src/meta/tools/dfp下<br class="wikidpad" />
面, 并在运行时真正生效. <br class="wikidpad" />
但是Peter的tree中, soc/import/stdgen/src/tools/dfp/包含了所有powerflow的内容. 所<br class="wikidpad" />
以, 即使$ANCHOR_powerflow已经指向想要的地址了, 最终生效的还是位于soc/import/<br class="wikidpad" />
stdgen/src/tools/dfp/下的代码. <br class="wikidpad" />
$action$: <br class="wikidpad" />
直接修改stdgen下面dfp的源码, 先试一下能过去不.<br class="wikidpad" />
<br class="wikidpad" />
$log$:<br class="wikidpad" />
code review地址: <span class="wikidpad url-link"><a href="http://codereview/ui#review:id=62659" class="wikidpad">http://codereview/ui#review:id=62659</a></span><br class="wikidpad" />
<br class="wikidpad" />
$log$:<br class="wikidpad" />
JIRA234: Polaris22 会生成8个UPF (tile的?)<br class="wikidpad" />
其中有7个是调用<b class="wikidpad">genTileSimUpf.csh</b>生成的, 另外一个是调用<b class="wikidpad">genVdciTileUpf.csh</b>生成的.<br class="wikidpad" />
调用log可以看 <span class="wikidpad url-link"><a href="files/polaris22_tile.log" class="wikidpad">这里</a></span><br class="wikidpad" />
<br class="wikidpad" />
$log$:<br class="wikidpad" />
对于JIRA234来说, chip.upf.tmpl中有很多涉及CHIP_UPF_MODE的判断, 根据不同的组合会有<br class="wikidpad" />
不同的处理. 还是要把这些处理都看懂, 才能改得出234.<br class="wikidpad" />
现在支持的mode: pgvi+pgpin; pg+pgpin; vi+pgpin;<br class="wikidpad" />
需要新增的mode: pgvi+baco<br class="wikidpad" />
<br class="wikidpad" />
$log$:<br class="wikidpad" />
Peter要求修改baco_tile.upf.tmpl<br class="wikidpad" />
<span class="wikidpad url-link"><a href="files/RE%20%20%20Polaris22%20%20the%20UPF%20generation%20failed%20.msg" class="wikidpad">rel://files/RE   Polaris22  the UPF generation failed .msg</a></span><br class="wikidpad" />
<br class="wikidpad" />
<br class="wikidpad" />
<span class="wikidpad property attribute">[tags: pgvi/baco]</span><span class="wikidpad property attribute">[tags: CHIP_UPF_MODE]</span><span class="wikidpad property attribute">[tags: Polaris22]</span><br class="wikidpad" />
    </body>
</html>
