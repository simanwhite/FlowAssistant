<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
    <head>
        <meta http-equiv="content-type" content="text/html; charset=UTF-8">
        <title>work_process-JIRA349</title>
        <link type="text/css" rel="stylesheet" href="appbase.css">
    </head>
    <body class="wikidpad">
<span class="wikidpad parent-nodes">parent nodes: <span class="wikidpad parent-node"><a href="calendar_Dec_2016.html" class="wikidpad">calendar_Dec_2016</a></span> | <span class="wikidpad parent-node"><a href="work%20projects.html" class="wikidpad">work projects</a></span><br class="wikidpad" /><br class="wikidpad" /></span>
<a name=".h0" class="wikidpad"></a><h2 class="wikidpad heading-level2">work_process-JIRA349</h2>
<hr class="wikidpad" />
标题: Vega11 UPF generation flow issue<br class="wikidpad" />
JIRA地址: <span class="wikidpad url-link"><a href="http://ontrack-internal.amd.com/browse/DMVMTVRF-349" class="wikidpad">http://ontrack-internal.amd.com/browse/DMVMTVRF-349</a></span><br class="wikidpad" />
<br class="wikidpad" />
<br class="wikidpad" />
<br class="wikidpad" />
<a name=".h205" class="wikidpad"></a><h3 class="wikidpad heading-level3">状态及下一步(newest on top)</h3>
<hr class="wikidpad" />
<ol class="wikidpad orderedlist">
<li class="wikidpad" /><br class="wikidpad" />
<br class="wikidpad" />
</ol>
<a name=".h318" class="wikidpad"></a><h3 class="wikidpad heading-level3">环境及问题描述</h3>
<hr class="wikidpad" />
<b class="wikidpad">环境</b>:<br class="wikidpad" />
atlnonveu-0015:2 (123456)<br class="wikidpad" />
/proj/vega10_socpv2/jbzhang/vega11_baco_upf/out/linux_2.6.32_64/vega11/config/chip_baco/pub/sim/<br class="wikidpad" />
<br class="wikidpad" />
powerflow_pkg/go<br class="wikidpad" />
<br class="wikidpad" />
soc_vega11/soc_vega11_main@2540806<br class="wikidpad" />
<br class="wikidpad" />
DJ_CONTEXT = vega11<br class="wikidpad" />
<br class="wikidpad" />
<br class="wikidpad" />
<b class="wikidpad">问题描述</b>:<pre class="wikidpad">BACO tile upf generation flow failed. I found the following error in vsi.log under nbio_pcs_t. 
Error-[SM_URMI] Unresolved module instance in design.
/proj/vega10_socpv2/jbzhang/vega11_baco_upf/out/linux_2.6.32_64/vega11/config/chip_baco/pub/sim/publish/tiles/tile/nbio_pcs_t/publish_rtl/nbio_pcs_t.v, 5033
Module definition 'hdckinxss4ul' of instance 'd0nt_uPCIE_REFCLK_inv' is not
found in the design
In vsi.tcl, the search_path is null. The powerflow_pkg is 38.2.2. When I switch it to 38.1.26.greenland, the issue will be fixed but the case failed for other error. Could you please help me fix the issue? Thanks.
</pre>
<br class="wikidpad" />
<a name=".h1253" class="wikidpad"></a><h3 class="wikidpad heading-level3">日志(oldest on top)</h3>
<hr class="wikidpad" />
<a name=".h1356" class="wikidpad"></a><h4 class="wikidpad heading-level4">2016-12-16</h4>
现在描述的问题是aon tile失败<br class="wikidpad" />
<br class="wikidpad" />
nbio_nbif_t<br class="wikidpad" />
smu_thm_t<br class="wikidpad" />
nbio_pcie_t<br class="wikidpad" />
<br class="wikidpad" />
<br class="wikidpad" />
<a name=".h1428" class="wikidpad"></a><h4 class="wikidpad heading-level4">2016-12-21</h4>
首先, log打印有问题, 改完genAon平行跑以后把aon的tile都打印成失败的log了, 要改chip.upf.tmpl<br class="wikidpad" />
然后, Fail的tile如果看Chip_tile_failed.log的话, 可以看出fail的实际上是三个vdci的tile<br class="wikidpad" />
<br class="wikidpad" />
vdci_nbio_right_t<br class="wikidpad" />
vdci_nbio_top_t<br class="wikidpad" />
nbio_pcs_t<br class="wikidpad" />
<br class="wikidpad" />
调的都是genVdciTileUpf.csh<br class="wikidpad" />
<br class="wikidpad" />
从vdci_nbio...._t.log中可以看到, 当read_upf vdci_nbio..._t.upf时, set_isolation的<br class="wikidpad" />
elements中出现了design中不存在的东西, 需要Jiubin确认design中为啥没有这东西.<br class="wikidpad" />
<br class="wikidpad" />
<br class="wikidpad" />
<a name=".h1773" class="wikidpad"></a><h4 class="wikidpad heading-level4">2016-12-23</h4>
aon的tile里面upf set_isolation时好多东西是空的. <br class="wikidpad" />
发现genAonPgpinTile.csh时 tileview竟然等于0<br class="wikidpad" />
<br class="wikidpad" />
首先PG_TOP就是空的...<br class="wikidpad" />
<br class="wikidpad" />
chip.upf.tmpl的调用命令中, PG_UPF被定义为 'chip', <br class="wikidpad" />
<br class="wikidpad" />
确定是dump_hier出了问题, hier.txt里面有smu_thm_t的信息, 但是hier.pm里面没有了. <br class="wikidpad" />
<br class="wikidpad" />
ros<br class="wikidpad" />
rdih<br class="wikidpad" />
rdiv<br class="wikidpad" />
mapsmro<br class="wikidpad" />
<br class="wikidpad" />
marefclkrosmux<br class="wikidpad" />
<br class="wikidpad" />
power.params设的有问题, 根本就没有把aon_pgpin_blk设对. smu_thm_t都没有包含进来. <br class="wikidpad" />
<br class="wikidpad" />
<br class="wikidpad" />
<a name=".h2087" class="wikidpad"></a><h4 class="wikidpad heading-level4">2016-12-26</h4>
给了我一个对比目录, 让我自己搞了...<br class="wikidpad" />
原目录:<br class="wikidpad" />
/proj/vega10_socpv2/jbzhang/vega11_baco_upf<br class="wikidpad" />
对比目录:<br class="wikidpad" />
/proj/plr22-dv3-nobackup/jbzhang/vega10_baco_2572152<br class="wikidpad" />
<br class="wikidpad" />
原来的hier.pm生成的是正确的, 但是也比较大, 有100多M. 进而包含了'smu_thm_t'这个<br class="wikidpad" />
key. <br class="wikidpad" />
<br class="wikidpad" />
老版本38.1.26.greenland, rhea_drop=1, genAon.csh中走到了conver_hier_txt_to_pm.pl<br class="wikidpad" />
这一路, 所马把hier.txt的信息全部拿进了hier.pm, 但是新版本已经把rhea_drop这个opt<br class="wikidpad" />
去掉了, 默认一直等于0. 所以走dump这一路, 出了问题. <br class="wikidpad" />
<br class="wikidpad" />
<br class="wikidpad" />
<br class="wikidpad" />
<br class="wikidpad" />
<br class="wikidpad" />
<br class="wikidpad" />
<br class="wikidpad" />
<br class="wikidpad" />
<br class="wikidpad" />
<br class="wikidpad" />
<br class="wikidpad" />
<br class="wikidpad" />
<br class="wikidpad" />
<br class="wikidpad" />
<br class="wikidpad" />
<br class="wikidpad" />
<br class="wikidpad" />
<br class="wikidpad" />
<br class="wikidpad" />
<br class="wikidpad" />
[tags: <br class="wikidpad" />
    </body>
</html>
