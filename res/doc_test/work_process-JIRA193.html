<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
    <head>
        <meta http-equiv="content-type" content="text/html; charset=UTF-8">
        <title>work_process-JIRA193</title>
        <link type="text/css" rel="stylesheet" href="appbase.css">
    </head>
    <body class="wikidpad">
<span class="wikidpad parent-nodes">parent nodes: <span class="wikidpad parent-node"><a href="calendar_July_2016.html" class="wikidpad">calendar_July_2016</a></span> | <span class="wikidpad parent-node"><a href="work%20projects.html" class="wikidpad">work projects</a></span> | <span class="wikidpad parent-node"><a href="运行环境收集.html" class="wikidpad">运行环境收集</a></span><br class="wikidpad" /><br class="wikidpad" /></span>
<a name=".h0" class="wikidpad"></a><h2 class="wikidpad heading-level2">work_process-JIRA193</h2>
<hr class="wikidpad" />
标题: UPF generation flow is too slow<br class="wikidpad" />
JIRA地址: <span class="wikidpad url-link"><a href="http://ontrack-internal.amd.com/browse/DMVMTVRF-193" class="wikidpad">http://ontrack-internal.amd.com/browse/DMVMTVRF-193</a></span><br class="wikidpad" />
<br class="wikidpad" />
<br class="wikidpad" />
<br class="wikidpad" />
<a name=".h204" class="wikidpad"></a><h3 class="wikidpad heading-level3">状态及下一步(newest on top)</h3>
<hr class="wikidpad" />
<ol class="wikidpad orderedlist">
<li class="wikidpad" />最后Angela出手, 在dfp/amdparser/mut...inc文件中修改了skip_array, 将多余的路径<br class="wikidpad" />
过掉, 可以大大减少hier.pm的文件大小.<br class="wikidpad" />
<br class="wikidpad" />
</ol>
<a name=".h404" class="wikidpad"></a><h3 class="wikidpad heading-level3">环境及问题描述</h3>
<hr class="wikidpad" />
<b class="wikidpad">环境</b>: <br class="wikidpad" />
<br class="wikidpad" />
<br class="wikidpad" />
<b class="wikidpad">问题描述</b>:<br class="wikidpad" />
这个JIRA提出了两个问题, 一个是UPFG生成UPF文件时的效率问题, 据说要30个小时. <br class="wikidpad" />
另一个是Jing Apple提的, 由于param file的问题 ,有些block upf没有生成, 也没有报错.<br class="wikidpad" />
<br class="wikidpad" />
<b class="wikidpad">运行环境</b>:<br class="wikidpad" />
stdgen<br class="wikidpad" />
<br class="wikidpad" />
cybvgar-nx18:7<br class="wikidpad" />
/proj/gfxip-er05/sghao/gfxip_gfx8/polaris22<br class="wikidpad" />
Bootenv –v polaris22<pre class="wikidpad">lsf_bsub -q regr_high -R "rusage[mem=4000] select[type==local]"

dj -v -c -m1 -J lsf -DUSE_RGB -e ‘run_test  
"gcpg  gcpg_percu_walk1111111100_sx_mem_export_all_contexts_pm4_01 
-v -DRUN_GC_SIM -DSKIP_EMU_PG -DPOWER_GATING -DPG_ASSERT  -DUSE_NLP  -DDEBUG  
-v"’ -D STATIC_CU_PG_RLC_DV -DPG_CG_W2E 
-l gcpg_percu_walk1111111100_sx_mem_export_all_contexts_pm4_01.log
</pre>
<br class="wikidpad" />
<a name=".h1094" class="wikidpad"></a><h3 class="wikidpad heading-level3">日志(oldest on top)</h3>
<hr class="wikidpad" />
$log$:<br class="wikidpad" />
Apple的邮件:<br class="wikidpad" />
Hi Quan,<ul class="wikidpad normalindent">We are running GC Power gating tests with UPF generation flow.<br class="wikidpad" />
Yes, the UPF can be generated correctly, by too slow, . It need about 3 days to finish the generation. So we need VMT team to improve it.<br class="wikidpad" />
Now Angela find that it <b class="wikidpad">maybe stdgen issue</b>. You can get detail information from her.<br class="wikidpad" />
You can want to reproduce this kind of issue, Please use the following command line.<br class="wikidpad" />
</ul>
dj -v -c -m1 -J lsf -DUSE_RGB -e ‘run_test  <br class="wikidpad" />
"gcpg  gcpg_percu_walk1111111100_sx_mem_export_all_contexts_pm4_01 <br class="wikidpad" />
-v -DRUN_GC_SIM -DSKIP_EMU_PG -DPOWER_GATING -DPG_ASSERT  -DUSE_NLP  -DDEBUG  <br class="wikidpad" />
-v"’ -D STATIC_CU_PG_RLC_DV -DPG_CG_W2E <br class="wikidpad" />
-l gcpg_percu_walk1111111100_sx_mem_export_all_contexts_pm4_01.log<br class="wikidpad" />
<br class="wikidpad" />
Thanks,<br class="wikidpad" />
Apple<br class="wikidpad" />
<br class="wikidpad" />
$log$:<br class="wikidpad" />
将upf.2.0文件及tb_hier.pm全部备份至/proj/gfxip-er05/qzuo_vmt_tmp下面, 重新运行<br class="wikidpad" />
mut_upf_param_flow.pl. 显示<ul class="wikidpad normalindent">AMD-Info: Parsing Verfilog Files...<br class="wikidpad" />
You have 4336 files to parse.<br class="wikidpad" />
</ul>
$log$:<br class="wikidpad" />
又被CYB报告占资源了. 不得不停掉, 改用lsf_bsub做了.<br class="wikidpad" />
<br class="wikidpad" />
<br class="wikidpad" />
<br class="wikidpad" />
<br class="wikidpad" />
<span class="wikidpad property attribute">[tags: polaris22]</span><span class="wikidpad property attribute">[tags: ]</span><br class="wikidpad" />
    </body>
</html>
